(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/food-placeholder.0805d07b.png"},28:function(e,t,a){},36:function(e,t,a){e.exports=a(60)},42:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/Montserrat-Regular.ee653992.ttf"},59:function(e,t,a){e.exports=a.p+"static/media/OpenSans-Regular.3ed9575d.ttf"},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),s=a.n(i),c=a(3),l=a.n(c),o=a(10),u=a(6),m=a(7),d=a(9),p=a(8),h=a(11),v=a(4),E=(a(42),Object(v.g)((function(e){return r.a.createElement("div",{id:"banner"},r.a.createElement("div",{id:"bannerLeft"},r.a.createElement(h.b,{to:"/home",className:"logo"},"Magellan"),"/home"===e.location.pathname?r.a.createElement("p",{className:"invisibleElement"}):r.a.createElement(h.b,{to:"/home",className:"linkButton"},r.a.createElement("span",{className:"linkButtonText"},"Back to the home page"))),r.a.createElement("div",{id:"bannerRight"},e.verified?r.a.createElement("div",null,r.a.createElement(h.b,{to:"/user",className:"linkButton"},r.a.createElement("span",{id:"userLinkButtonText",className:"linkButtonText"},"View Your Saved Recipes")),r.a.createElement("button",{className:"linkButton",onClick:e.logout},r.a.createElement("span",{className:"linkButtonText"},"Sign Out"))):r.a.createElement(h.b,{to:{pathname:"/login",state:{source:e.location.pathname}},className:"linkButton"},r.a.createElement("span",{className:"linkButtonText"},"Sign In"))))}))),f=a(12),g=a(16),b=a.n(g),N=(a(51),function(e){for(var t=[],a=0;a<e.list.length;a++){for(var n=[],i=e.list[a],s=1;s<i.length;s++){var c=i[s];n.push(r.a.createElement("li",{key:s},c))}var l=i[0];"main"!==l&&t.push(r.a.createElement("div",{className:"sectionHeader",key:a+"h"},l)),t.push(r.a.createElement("div",{className:"sectionData",key:a},e.ordered?r.a.createElement("ol",null,n):r.a.createElement("ul",null,n)))}return r.a.createElement("div",null,t)}),y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).saveRecipe=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.verified){e.next=4;break}n.setState({redirect:!0}),e.next=11;break;case 4:return e.next=6,fetch("/user/saveRecipe/".concat(n.state.recipeID));case 6:return t=e.sent,e.next=9,t.json();case 9:(a=e.sent).errors.length?console.log(a.errors[0]):n.setState({recipeSaved:!0});case 11:case"end":return e.stop()}}),e)}))),n.removeRecipe=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.verified){e.next=4;break}n.setState({redirect:!0}),e.next=11;break;case 4:return e.next=6,fetch("/user/removeRecipe/".concat(n.state.recipeID));case 6:return t=e.sent,e.next=9,t.json();case 9:(a=e.sent).errors.length?console.log(a.errors[0]):n.setState({recipeSaved:!1});case 11:case"end":return e.stop()}}),e)}))),n.state={recipeFound:!0,recipeSaved:!1,loaded:!1,redirect:!1,recipeID:n.props.match.params.recipeid,URL:"",imageURL:"",author:"",recipeName:"",difficulty:"",totalTime:"",prepTime:"",inactiveTime:"",activeTime:"",cookTime:"",yield:"",ingredients:[],directions:[],source:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/recipe/".concat(this.state.recipeID));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,fetch("/user/recipeSaved/".concat(this.state.recipeID));case 8:return n=e.sent,e.next=11,n.json();case 11:r=e.sent,i=r.recipeSaved||!1,a.error?this.setState({recipeFound:!1,recipeSaved:i,loaded:!0}):this.setState({URL:a.URL,imageURL:a.imageURL,author:a.author,recipeName:a.recipeName,difficulty:a.difficulty,totalTime:a.totalTime,prepTime:a.prepTime,inactiveTime:a.inactiveTime,activeTime:a.activeTime,cookTime:a.cookTime,yield:a.yield,ingredients:a.ingredients,directions:a.directions,source:a.source,recipeSaved:i,loaded:!0});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirect?r.a.createElement(v.a,{to:{pathname:"/login",state:{source:"/recipe/".concat(this.state.recipeID)}}}):this.state.loaded?this.state.recipeFound?r.a.createElement("div",{id:"recipePage"},this.state.recipeName?r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - "+this.state.recipeName)):r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan")),r.a.createElement("div",{id:"recipeDetails"},r.a.createElement("div",{id:"header"},r.a.createElement("div",{id:"recipeName"},this.state.recipeName),this.state.author?r.a.createElement("div",{id:"author"},"by ",this.state.author):r.a.createElement("p",{className:"invisibleElement"}),r.a.createElement("div",{id:"source"},"Courtesy of\xa0",r.a.createElement("span",{id:"sourceText"},this.state.source)),r.a.createElement("button",{id:"saveRecipeButton",onClick:this.state.recipeSaved?this.removeRecipe:this.saveRecipe},this.props.verified?this.state.recipeSaved?"Remove Recipe":"Save Recipe":"Log in to save this recipe"),r.a.createElement("div",{id:"details"},r.a.createElement("div",{id:"detailsLeft"},this.state.difficulty?r.a.createElement("div",{id:"difficulty"},"Difficulty:\xa0",r.a.createElement("span",{id:"difficultyText",className:"detailHighlight"},this.state.difficulty)):r.a.createElement("p",{className:"invisibleElement"}),this.state.yield?r.a.createElement("div",{id:"yield"},"Yield:\xa0",r.a.createElement("span",{id:"yieldText",className:"detailHighlight"},this.state.yield)):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"times"},this.state.totalTime?r.a.createElement("div",{id:"totalTime"},"Total Time:\xa0",r.a.createElement("span",{id:"totalTimeText",className:"detailHighlight"},this.state.totalTime)):r.a.createElement("p",{className:"invisibleElement"}),r.a.createElement("div",{id:"timesList"},r.a.createElement("ul",null,r.a.createElement("div",{id:"prepTime"},this.state.prepTime?r.a.createElement("li",null,"Prep:\xa0",r.a.createElement("span",{id:"prepTimeText",className:"detailHighlight"},this.state.prepTime)):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"cookTime"},this.state.cookTime?r.a.createElement("li",null,"Cook:\xa0",r.a.createElement("span",{id:"cookTimeText",className:"detailHighlight"},this.state.cookTime)):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"activeTime"},this.state.activeTime?r.a.createElement("li",null,"Active:\xa0",r.a.createElement("span",{id:"activeTimeText",className:"detailHighlight"},this.state.activeTime)):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"inactiveTime"},this.state.inactiveTime?r.a.createElement("li",null,"Inactive:\xa0",r.a.createElement("span",{id:"inactiveTimeText",className:"detailHighlight"},this.state.inactiveTime)):r.a.createElement("p",{className:"invisibleElement"})))))),this.state.imageURL?r.a.createElement("p",{className:"invisibleElement"}):r.a.createElement("div",{id:"sourceLink"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.URL},"Original Recipe"))),this.state.imageURL?r.a.createElement("div",{id:"imageContainer"},r.a.createElement("img",{id:"recipePhoto",src:this.state.imageURL,alt:""}),r.a.createElement("div",{id:"sourceLink"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.URL},"Original Recipe"))):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"procedure"},r.a.createElement("div",{id:"ingredients"},r.a.createElement("div",{className:"listHeader"},"Ingredients"),r.a.createElement(N,{list:this.state.ingredients,ordered:!1})),r.a.createElement("div",{id:"directions"},r.a.createElement("div",{className:"listHeader"},"Directions"),r.a.createElement(N,{list:this.state.directions,ordered:!0})))):r.a.createElement("div",{id:"notFoundNotice"},"Recipe not found!",r.a.createElement("div",null,"Please try again")):r.a.createElement("div",{id:"recipeLoadingNotice"},"Loading",r.a.createElement(b.a,{size:20,margin:5}))}}]),a}(n.Component),k=a(34),T=a(18),S=a(35),R=a.n(S),x=a(19),P=a.n(x),j=(a(52),function(e){var t=e.info,a="/recipe/".concat(t._id);return r.a.createElement("div",{id:"card"},r.a.createElement("div",{id:"cardContents"},r.a.createElement("div",{id:"cardInfo"},r.a.createElement("div",{id:"cardRecipeName"},r.a.createElement("a",{className:"cardRecipeLink",target:"_blank",rel:"noopener noreferrer",href:a},t.recipeName,"\xa0\xa0")),t.totalTime?r.a.createElement("a",{className:"cardRecipeLink",target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("div",{id:"cardTotalTime"},"Total Time:\xa0",t.totalTime,"\xa0\xa0")):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("a",{className:"cardRecipeLink",target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("div",{id:"cardPhoto",style:{backgroundImage:"url(".concat(t.imageURL||P.a,")")}}))))}),w=(a(53),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateCurrentResults=function(){var e=n.state.currentPage,t=n.state.numResultsPerPage,a=(e-1)*t,i=e*t,s=n.props.data.slice(a,i).map((function(e,t){return r.a.createElement(j,{key:t,info:e})}));n.setState({currentResults:s},(function(){n.forceUpdate()}))},n.goToPreviousPage=function(){var e=n.state.currentPage;e>1&&n.setState({currentPage:e-1},(function(){n.updateCurrentResults()}))},n.goToNextPage=function(){var e=n.state.currentPage;e<n.state.lastPage&&n.setState({currentPage:e+1},(function(){n.updateCurrentResults()}))},n.state={currentResults:[],numResults:0,numResultsPerPage:6,lastPage:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data.length,a=this.state.numResultsPerPage;this.setState({numResults:t,lastPage:Math.ceil(t/a)},(function(){e.updateCurrentResults()}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"searchResultsWrapper"},r.a.createElement("div",{id:"topResultsLabel"},"Top Results:"),r.a.createElement("div",{id:"resultsContainer"},r.a.createElement("div",{id:"scrollLeftButton"},this.state.currentPage>1?r.a.createElement("button",{className:"scrollButton",onClick:this.goToPreviousPage},"\u25c0",r.a.createElement("div",{className:"scrollLabel"},"Previous",r.a.createElement("br",null),"Page")):r.a.createElement("div",{className:"scrollPlaceholder"}," ")),r.a.createElement("div",{id:"resultsList"},this.state.currentResults),r.a.createElement("div",{id:"scrollRightButton"},this.state.currentPage<this.state.lastPage?r.a.createElement("button",{className:"scrollButton",onClick:this.goToNextPage},"\u25b6",r.a.createElement("div",{className:"scrollLabel"},"Next",r.a.createElement("br",null),"Page")):r.a.createElement("div",{className:"scrollPlaceholder"}," "))),r.a.createElement("div",{id:"pageDetails"},r.a.createElement("div",null,"Viewing page ",this.state.currentPage," of ",this.state.lastPage)))}}]),a}(n.Component));a(54);function O(){var e=Object(k.a)(["\n            width: 300px;\n            margin: 10px auto 0px auto;\n            background-color: lightgrey;\n            border: none;\n            border-radius: 10px;\n        "]);return O=function(){return e},e}var L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchType:"name",input:"",emptyInput:!1,resultsFound:!0,loading:!1,results:[],maxResults:60},e.getResults=Object(o.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.input){t.next=12;break}return a="/api/search/".concat(e.state.searchType,"/").concat(e.state.input,"/").concat(e.state.maxResults),e.setState({results:[],resultsFound:!0,loading:!0,emptyInput:!1}),t.next=5,fetch(a);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).error?e.setState({resultsFound:!1,loading:!1}):e.setState({resultsFound:!0,loading:!1,results:r.searchResults}),t.next=13;break;case 12:e.setState({emptyInput:!0,resultsFound:!0,results:[]});case 13:case"end":return t.stop()}}),t)}))),e.updateInput=function(t){e.setState({input:t.currentTarget.value})},e.updateSearchType=function(t){e.setState({searchType:t.currentTarget.value})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=Object(T.css)(O());return r.a.createElement("div",null,r.a.createElement("div",{id:"searchContainer"},r.a.createElement("div",{id:"title"},"Find your next meal"),r.a.createElement("form",{name:"searchBar",target:"hiddenFrame",onSubmit:this.getResults},r.a.createElement("div",{id:"searchBarWrapper"},r.a.createElement("input",{name:"search",id:"searchInput",type:"text",autoComplete:"off",placeholder:"Search for recipes",onChange:this.updateInput}),r.a.createElement("button",{type:"submit",id:"searchButton",className:"fa fa-search"})),r.a.createElement("div",{id:"searchType"},"Search by:",r.a.createElement("label",{className:"searchTypeContainer"},"Recipe Name",r.a.createElement("input",{type:"radio",name:"searchType",value:"name",onChange:this.updateSearchType,checked:"name"===this.state.searchType}),r.a.createElement("span",{className:"searchTypeButton"})),r.a.createElement("label",{className:"searchTypeContainer"},"Ingredients",r.a.createElement("input",{type:"radio",name:"searchType",value:"ing",onChange:this.updateSearchType,checked:"ing"===this.state.searchType}),r.a.createElement("span",{className:"searchTypeButton"}))),r.a.createElement("div",{id:"inputReminder",className:"searchNotice"},this.state.emptyInput?r.a.createElement("div",null,"Please enter something to search"):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"loadingBar",className:"searchNotice"},this.state.loading?r.a.createElement("div",null,"Searching...",r.a.createElement(R.a,{height:9,css:e})):r.a.createElement("p",{className:"invisibleElement"}))),r.a.createElement("iframe",{name:"hiddenFrame",className:"invisibleElement",title:"hidden"})),r.a.createElement("div",{id:"results"},this.state.resultsFound?r.a.createElement("p",{className:"invisibleElement"}):r.a.createElement("div",{id:"failNotice",className:"searchNotice"},"No results found. Please try again"),this.state.results.length?r.a.createElement(w,{data:this.state.results}):r.a.createElement("p",{className:"invisibleElement"})))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan")),r.a.createElement(L,null))}}]),a}(n.Component),I=(a(28),function(e){return r.a.createElement("div",null,e.errorList.length?e.errorList.map((function(e){return r.a.createElement("div",{className:"authError",key:e},e)})):r.a.createElement("p",{className:"invisibleElement"}))}),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateInput=function(e){var t=e.currentTarget,a=t.id,r=t.value;switch(a){case"email":n.setState({email:r});break;case"password":n.setState({password:r});break;case"confirmPassword":n.setState({confirmPassword:r})}},n.submitPage=function(e){e.preventDefault(),n.setState({submissionInProgress:!0});var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password,confirmPassword:n.state.confirmPassword})};try{Object(o.a)(l.a.mark((function e(){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/register",t);case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).length?n.setState({errors:r,submissionInProgress:!1}):n.setState({redirectAfterSumbit:!0,submissionInProgress:!1});case 7:case"end":return e.stop()}}),e)})))()}catch(a){console.log("Error submitting registration form:",a)}},n.state={email:"",password:"",confirmPassword:"",errors:[],redirectAfterSumbit:!1,submissionInProgress:!1},n}return Object(m.a)(a,[{key:"render",value:function(){if(this.props.verified)return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Register")),r.a.createElement("div",{className:"alreadyAuthorizedNotice"},"You already have an account!",r.a.createElement("div",null,"Click\xa0",r.a.createElement("span",null,r.a.createElement(h.b,{to:"/home"},"here")),"\xa0to return to the home page")));var e=this.props.location.state,t=e?e.source:"/home";return this.state.redirectAfterSumbit?r.a.createElement(v.a,{to:{pathname:"/login",state:{source:t}}}):r.a.createElement("div",{className:"authWrapper"},r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Register")),r.a.createElement("div",{className:"authHeader"},"Create an account"),r.a.createElement("form",{name:"registerForm",onSubmit:this.submitPage},r.a.createElement("div",{className:"authInputWrapper"},r.a.createElement("input",{className:"authInput",id:"email",name:"email",type:"text",autoComplete:"off",placeholder:"Email Address",value:this.state.email,onChange:this.updateInput}),r.a.createElement("input",{className:"authInput",id:"password",name:"password",type:"password",autoComplete:"off",placeholder:"Password",value:this.state.password,onChange:this.updateInput}),r.a.createElement("input",{className:"authInput",id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"off",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:this.updateInput})),r.a.createElement("div",{className:"authLink"},"Already have an account?\xa0",r.a.createElement(h.b,{to:{pathname:"/login",state:{source:t}}},"Log in here")),r.a.createElement("div",{className:"authSubmitButtonWrapper"},r.a.createElement("button",{type:"submit",className:"linkButton"},r.a.createElement("span",{className:"linkButtonText"},"Submit")))),this.state.submissionInProgress?r.a.createElement("div",{className:"authorizingNotice"},"Registering",r.a.createElement(b.a,{size:16,margin:6})):r.a.createElement("div",{className:"authErrorList"},r.a.createElement(I,{errorList:this.state.errors})))}}]),a}(n.Component),D=function(e){return r.a.createElement("div",null,e.errorList.length?e.errorList.map((function(e){return r.a.createElement("div",{className:"authError",key:e},e)})):r.a.createElement("p",{className:"invisibleElement"}))},A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateInput=function(e){var t=e.currentTarget,a=t.id,r=t.value;"email"===a?n.setState({email:r}):n.setState({password:r})},n.submitPage=function(e){e.preventDefault(),n.setState({submissionInProgress:!0});var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password})};try{Object(o.a)(l.a.mark((function e(){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/login",t);case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).length?n.setState({errors:r,submissionInProgress:!1}):(n.updateLoginStatus(),n.setState({redirectAfterSumbit:!0,submissionInProgress:!1}));case 7:case"end":return e.stop()}}),e)})))()}catch(a){console.log("Error submitting login form:",a)}},n.updateLoginStatus=e.updateLoginStatus,n.state={email:"",password:"",errors:[],redirectAfterSumbit:!1,submissionInProgress:!1},n}return Object(m.a)(a,[{key:"updateLoginStatus",value:function(){}},{key:"render",value:function(){if(this.props.verified)return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Sign In")),r.a.createElement("div",{className:"alreadyAuthorizedNotice"},"You are already signed in",r.a.createElement("div",null,"Click\xa0",r.a.createElement("span",null,r.a.createElement(h.b,{to:"/home"},"here")),"\xa0to return to the home page")));var e=this.props.location.state,t=e?e.source:"/home";return this.state.redirectAfterSumbit?r.a.createElement(v.a,{to:t}):r.a.createElement("div",{className:"authWrapper"},r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Sign In")),r.a.createElement("div",{className:"authHeader"},"Sign In"),r.a.createElement("form",{name:"loginForm",onSubmit:this.submitPage},r.a.createElement("div",{className:"authInputWrapper"},r.a.createElement("input",{className:"authInput",id:"email",name:"email",type:"text",autoComplete:"off",placeholder:"Email Address",value:this.state.email,onChange:this.updateInput}),r.a.createElement("input",{className:"authInput",id:"password",name:"password",type:"password",autoComplete:"off",placeholder:"Password",value:this.state.password,onChange:this.updateInput})),r.a.createElement("div",{className:"authLink"},"Don't have an account yet?\xa0",r.a.createElement(h.b,{to:{pathname:"/register",state:{source:t}}},"Register here")),r.a.createElement("div",{className:"authSubmitButtonWrapper"},r.a.createElement("button",{type:"submit",className:"linkButton"},r.a.createElement("span",{className:"linkButtonText"},"Submit")))),this.state.submissionInProgress?r.a.createElement("div",{className:"authorizingNotice"},"Logging In",r.a.createElement(b.a,{size:16,margin:6})):r.a.createElement("div",{className:"authErrorList"},r.a.createElement(D,{errorList:this.state.errors})))}}]),a}(n.Component),M=(a(55),function(e){var t=e.info,a="/recipe/".concat(t._id);return r.a.createElement("div",{id:"savedRecipeCard"},r.a.createElement("a",{className:"savedRecipeCardLink",target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("div",{id:"savedRecipeCardContents"},r.a.createElement("div",{id:"savedRecipeCardLeft"},r.a.createElement("div",{id:"savedRecipeCardName"},t.recipeName),t.author?r.a.createElement("div",{id:"savedRecipeCardAuthor"},"by ",t.author):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("img",{id:"savedRecipePhoto",src:t.imageURL||P.a,alt:""}))))}),U=(a(56),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getUserData=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/userData");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n.setState({email:a.email||"",savedRecipes:a.savedRecipes||[],loaded:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error retrieving user data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={email:"",savedRecipes:[],loaded:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.savedRecipes.map((function(e,t){return r.a.createElement(M,{key:t,info:e})}));return this.props.verified?this.state.loaded?r.a.createElement("div",{id:"userDetails"},r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Profile")),r.a.createElement("div",{id:"welcomeNotice"},"Welcome!"),r.a.createElement("div",{id:"emailNotice"},"You are signed in as",r.a.createElement("div",{id:"emailValue"},this.state.email)),e.length?r.a.createElement("div",{id:"savedRecipes"},r.a.createElement("div",{id:"savedRecipesNotice"},"Your saved recipes:"),r.a.createElement("div",{id:"recipeList"},e)):r.a.createElement("div",{id:"noSavedRecipesNotice"},"You do not have any saved recipes")):r.a.createElement("div",{id:"userLoadingNotice"},"Loading",r.a.createElement(b.a,{size:20,margin:5})):r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Magellan - Profile")),r.a.createElement("div",{id:"notYetLoggedInNotice"},"You must be signed in to view your profile",r.a.createElement("div",null,"Click\xa0",r.a.createElement("span",null,r.a.createElement(h.b,{to:{pathname:"/login",state:{source:"/user"}}},"here")),"\xa0to sign in")))}}]),a}(n.Component)),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={verified:!1,auth_error:""},e}return Object(m.a)(a,[{key:"updateLoginStatus",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/verified");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({verified:a.verified,auth_error:a.auth_error});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.updateLoginStatus()}},{key:"logout",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({verified:a.verified,auth_error:a.auth_error});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(E,{verified:this.state.verified,auth_error:this.state.auth_error,logout:this.logout.bind(this)}),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/home",component:C}),r.a.createElement(v.b,{path:"/recipe/:recipeid",render:function(t){return r.a.createElement(y,Object.assign({},t,{verified:e.state.verified}))}}),r.a.createElement(v.b,{path:"/register",render:function(t){return r.a.createElement(B,Object.assign({},t,{verified:e.state.verified}))}}),r.a.createElement(v.b,{path:"/login",render:function(t){return r.a.createElement(A,Object.assign({},t,{verified:e.state.verified,updateLoginStatus:e.updateLoginStatus.bind(e)}))}}),r.a.createElement(v.b,{path:"/user",render:function(t){return r.a.createElement(U,Object.assign({},t,{verified:e.state.verified}))}}),r.a.createElement(v.b,{path:"/"},r.a.createElement(v.a,{to:"/home"})))))}}]),a}(n.Component);a(57),a(58),a(59);s.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b337f14c.chunk.js.map