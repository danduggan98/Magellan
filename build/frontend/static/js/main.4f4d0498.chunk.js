(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){e.exports=a(56)},42:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),s=a.n(i),c=a(11),l=a.n(c),o=a(13),m=a(5),u=a(6),d=a(8),p=a(7),h=a(20),E=(a(42),function(e){for(var t=[],a=0;a<e.list.length;a++){for(var n=[],i=e.list[a],s=1;s<i.length;s++){var c=i[s];n.push(r.a.createElement("li",{key:c},c))}var l=i[0];"main"!==l&&t.push(r.a.createElement("div",{className:"sectionHeader",key:l},l)),t.push(r.a.createElement("div",{className:"sectionData"},e.ordered?r.a.createElement("ol",{key:n.toString()},n):r.a.createElement("ul",{key:n.toString()},n)))}return r.a.createElement("div",null,t)}),v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={recipeFound:!0,recipeID:n.props.match.params.recipeid,URL:"",imageURL:"",author:"",recipeName:"",difficulty:"",totalTime:"",prepTime:"",inactiveTime:"",activeTime:"",cookTime:"",yield:"",ingredients:[],directions:[],source:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/recipe/".concat(this.state.recipeID));case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).error?this.setState({recipeFound:!1}):this.setState({URL:a.URL,imageURL:a.imageURL,author:a.author,recipeName:a.recipeName,difficulty:a.difficulty,totalTime:a.totalTime,prepTime:a.prepTime,inactiveTime:a.inactiveTime,activeTime:a.activeTime,cookTime:a.cookTime,yield:a.yield,ingredients:a.ingredients,directions:a.directions,source:a.source});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.recipeFound?r.a.createElement("div",null,this.state.recipeName?r.a.createElement(h.a,null,r.a.createElement("title",null,"Magellan - "+this.state.recipeName)):r.a.createElement(h.a,null,r.a.createElement("title",null,"Magellan")),r.a.createElement("div",{id:"header"},r.a.createElement("div",{id:"recipeName"},this.state.recipeName),r.a.createElement("div",{id:"author"},"by ",this.state.author),r.a.createElement("div",{id:"source"},"Courtesy of",r.a.createElement("span",{id:"sourceText"},this.state.source))),r.a.createElement("div",{id:"image"},this.state.imageURL?r.a.createElement("img",{src:this.state.imageURL,alt:"",width:"600"}):r.a.createElement("p",{className:"invisibleElement"}),r.a.createElement("div",{id:"sourceLink"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.URL},"Original Recipe"))),r.a.createElement("div",{id:"details"},r.a.createElement("div",{id:"detailsLeft"},r.a.createElement("div",{id:"difficulty"},"Difficulty:",r.a.createElement("span",{id:"difficultyText"},this.state.difficulty)),r.a.createElement("div",{id:"yield"},"Yield:",r.a.createElement("span",{id:"yieldText"},this.state.yield))),r.a.createElement("div",{id:"times"},r.a.createElement("div",{id:"totalTime"},"Total Time:",r.a.createElement("span",{id:"totalTimeText"},this.state.totalTime)),r.a.createElement("div",{id:"timesList"},r.a.createElement("ul",null,r.a.createElement("div",{id:"prepTime"},this.state.prepTime?r.a.createElement("li",null,r.a.createElement("span",{id:"prepTimeText"},this.state.prepTime),"prep time"):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"cookTime"},this.state.cookTime?r.a.createElement("li",null,r.a.createElement("span",{id:"cookTimeText"},this.state.cookTime),"cook time"):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"activeTime"},this.state.activeTime?r.a.createElement("li",null,r.a.createElement("span",{id:"activeTimeText"},this.state.activeTime),"active time"):r.a.createElement("p",{className:"invisibleElement"})),r.a.createElement("div",{id:"inactiveTime"},this.state.inactiveTime?r.a.createElement("li",null,r.a.createElement("span",{id:"inactiveTimeText"},this.state.inactiveTime),"inactive time"):r.a.createElement("p",{className:"invisibleElement"})))))),r.a.createElement("div",{id:"ingredients"},r.a.createElement("div",{className:"listHeader"},"Ingredients"),r.a.createElement(E,{list:this.state.ingredients,ordered:!1})),r.a.createElement("div",{id:"directions"},r.a.createElement("div",{className:"listHeader"},"Directions"),r.a.createElement(E,{list:this.state.directions,ordered:!0}))):r.a.createElement("div",{id:"notFoundNotice"},"Recipe not found! Please try again")}}]),a}(n.Component),g=a(29),f=a(19),b=a(31),y=a.n(b),T=(a(47),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={recipe:e.info},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.recipe,t="/recipe/".concat(e._id),a="";switch(e.source){case"Food Network":a="FNsource";break;case"Taste of Home":a="TOHsource"}return r.a.createElement("div",{id:"card",className:"expandableCard"},r.a.createElement("a",{className:"cardRecipeLink",target:"_blank",rel:"noopener noreferrer",href:t},r.a.createElement("div",{id:"cardContents"},r.a.createElement("div",{id:"cardInfo"},r.a.createElement("div",{id:"cardRecipeName"},e.recipeName),r.a.createElement("div",{id:"secondaryDetails"},e.author?r.a.createElement("div",{id:"cardAuthor"},"by ",e.author):r.a.createElement("p",null),r.a.createElement("div",{id:"tertiaryDetails"},e.source?r.a.createElement("div",{id:"cardSource",className:a},"from ",e.source):r.a.createElement("p",null),e.totalTime?r.a.createElement("div",{id:"cardTotalTime"},e.totalTime):r.a.createElement("p",null)))),e.imageURL?r.a.createElement("img",{id:"cardPhoto",src:e.imageURL,alt:""}):r.a.createElement("p",null))))}}]),a}(n.Component)),w=(a(48),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateCurrentResults=function(){console.log("updating current results");var e=n.state.currentPage,t=n.state.numResultsPerPage,a=(e-1)*t,i=e*t;console.log(a,i);var s=n.props.data.slice(a,i).map((function(e){return r.a.createElement(T,{info:e})}));n.setState({currentResults:s},(function(){console.log("visible results updated"),n.forceUpdate()}))},n.goToPreviousPage=function(){console.log("going to previous page");var e=n.state.currentPage;e>1&&n.setState({currentPage:e-1},(function(){console.log("page num decremented"),n.updateCurrentResults()}))},n.goToNextPage=function(){console.log("going to next page");var e=n.state.currentPage;e<n.state.lastPage&&n.setState({currentPage:e+1},(function(){console.log("page num incremented"),n.updateCurrentResults()}))},n.state={currentResults:[],numResults:0,numResultsPerPage:5,lastPage:0,currentPage:1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data.length,a=this.state.numResultsPerPage;this.setState({numResults:t,lastPage:Math.ceil(t/a)},(function(){e.updateCurrentResults()}))}},{key:"render",value:function(){return console.log("rendering"),r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{id:"topResultsLabel"},"Top Results:"),r.a.createElement("div",{id:"resultsContainer"},r.a.createElement("div",{id:"scrollLeftButton"},this.state.currentPage>1?r.a.createElement("button",{className:"scrollButton",onClick:this.goToPreviousPage},"\u25c0"):r.a.createElement("div",{className:"scrollPlaceholder"}," ")),r.a.createElement("div",{id:"resultsList"},this.state.currentResults),r.a.createElement("div",{id:"scrollRightButton"},this.state.currentPage<this.state.lastPage?r.a.createElement("button",{className:"scrollButton",onClick:this.goToNextPage},"\u25b6"):r.a.createElement("div",{className:"scrollPlaceholder"}," "))),r.a.createElement("div",{id:"pageDetails"},r.a.createElement("div",null,"Viewing page ",this.state.currentPage," of ",this.state.lastPage)))}}]),a}(n.Component));a(49);function N(){var e=Object(g.a)(["\n            width: 285px;\n            margin-top: 10px;\n            margin-left: auto;\n            margin-right: auto;\n            background-color: lightgrey;\n        "]);return N=function(){return e},e}var P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchType:"name",input:"",emptyInput:!1,resultsFound:!0,loading:!1,results:[],maxResults:35},e.getResults=Object(o.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.input){t.next=12;break}return a="/api/search/".concat(e.state.searchType,"/").concat(e.state.input,"/").concat(e.state.maxResults),e.setState({results:[],resultsFound:!0,loading:!0,emptyInput:!1}),t.next=5,fetch(a);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).error?e.setState({resultsFound:!1,loading:!1}):e.setState({resultsFound:!0,loading:!1,results:r.searchResults}),t.next=13;break;case 12:e.setState({emptyInput:!0,resultsFound:!0,results:[]});case 13:case"end":return t.stop()}}),t)}))),e.updateInput=function(t){e.setState({input:t.currentTarget.value})},e.updateSearchType=function(t){e.setState({searchType:t.currentTarget.value})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=Object(f.css)(N());return r.a.createElement("div",{id:"searchContainer"},r.a.createElement("div",{id:"notice"},"Find your next meal!"),r.a.createElement("form",{name:"searchBar",target:"hiddenFrame",onSubmit:this.getResults},r.a.createElement("div",{id:"searchBarWrapper"},r.a.createElement("input",{name:"search",id:"searchInput",type:"text",autoComplete:"off",placeholder:"Search for recipes",onChange:this.updateInput}),r.a.createElement("button",{type:"submit",id:"searchButton",className:"fa fa-search"})),r.a.createElement("div",{id:"searchType"},"Search by:",r.a.createElement("div",{id:"searchTypeNameWrapper"},r.a.createElement("input",{type:"radio",id:"searchTypeNameButton",name:"searchType",value:"name",onChange:this.updateSearchType,checked:"name"===this.state.searchType}),r.a.createElement("label",{htmlFor:"searchTypeNameButton"},"Recipe Name")),r.a.createElement("div",{id:"searchTypeIngWrapper"},r.a.createElement("input",{type:"radio",id:"searchTypeIngButton",name:"searchType",value:"ing",onChange:this.updateSearchType,checked:"ing"===this.state.searchType}),r.a.createElement("label",{htmlFor:"searchTypeIngButton"},"Ingredient"))),r.a.createElement("div",{id:"inputReminder"},this.state.emptyInput?r.a.createElement("h4",null,"Please enter something to search"):r.a.createElement("p",null)),r.a.createElement("div",{id:"loadingBar"},this.state.loading?r.a.createElement("div",null,"Searching...",r.a.createElement(y.a,{height:6,css:e})):r.a.createElement("p",null))),r.a.createElement("div",{id:"results"},this.state.resultsFound?r.a.createElement("p",null):r.a.createElement("div",{id:"failNotice"},"No results found. Try again"),this.state.results.length?r.a.createElement(w,{data:this.state.results}):r.a.createElement("p",null)),r.a.createElement("iframe",{name:"hiddenFrame",id:"iframe",title:"hidden"}))}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null))}}]),a}(n.Component),O=a(16),R=a(3),S=a(14),k=(a(50),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",confirmPassword:"",errors:[],redirectAfterSumbit:!1},e.updateInput=function(t){var a=t.currentTarget,n=a.id,r=a.value;e.setState(Object(O.a)({},n,r))},e.submitPage=function(t){t.preventDefault();var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword})};try{Object(o.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/auth/register",a);case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).length?e.setState({errors:r}):e.setState({redirectAfterSumbit:!0});case 7:case"end":return t.stop()}}),t)})))()}catch(n){console.log("Error submitting registration form:",n)}},e}return Object(u.a)(a,[{key:"render",value:function(){return this.state.redirectAfterSumbit?r.a.createElement(R.a,{to:"/login"}):r.a.createElement("div",{id:"registerWrapper"},r.a.createElement("div",{id:"registerHeader"},"Create an account"),r.a.createElement("form",{name:"registerForm",onSubmit:this.submitPage},r.a.createElement("div",null,"ERRORS:",this.state.errors.length?this.state.errors:""),r.a.createElement("div",{id:"inputWrapper"},r.a.createElement("label",{id:"emailLabel",className:"label",htmlFor:"email"},"Email Address:"),r.a.createElement("input",{className:"input",id:"email",name:"email",type:"text",autoComplete:"off",placeholder:"Email Address",value:this.state.email,onChange:this.updateInput}),r.a.createElement("label",{id:"passwordLabel",className:"label",htmlFor:"password"},"Password:"),r.a.createElement("input",{className:"input",id:"password",name:"password",type:"password",autoComplete:"off",placeholder:"Password",value:this.state.password,onChange:this.updateInput}),r.a.createElement("label",{id:"confirmPasswordLabel",className:"label",htmlFor:"confirmPassword"},"Confirm Password:"),r.a.createElement("input",{className:"input",id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"off",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:this.updateInput})),r.a.createElement("div",{id:"registerLink"},"Already have an account?",r.a.createElement(S.b,{to:"/login"},"Log in here")),r.a.createElement("div",{id:"submitButtonWrapper"},r.a.createElement("button",{type:"submit",id:"submitButton"},"Submit"))))}}]),a}(n.Component)),C=(a(53),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errors:[],redirectAfterSumbit:!1},e.updateInput=function(t){var a=t.currentTarget,n=a.id,r=a.value;e.setState(Object(O.a)({},n,r))},e.submitPage=function(t){t.preventDefault();var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password})};try{Object(o.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/auth/login",a);case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).length?e.setState({errors:r}):e.setState({redirectAfterSumbit:!0});case 7:case"end":return t.stop()}}),t)})))()}catch(n){console.log("Error submitting login form:",n)}},e}return Object(u.a)(a,[{key:"render",value:function(){return this.state.redirectAfterSumbit?r.a.createElement(R.a,{to:"/home"}):r.a.createElement("div",{id:"loginWrapper"},r.a.createElement("div",{id:"loginHeader"},"Log In"),r.a.createElement("form",{name:"loginForm",onSubmit:this.submitPage},r.a.createElement("div",null,"ERRORS:",this.state.errors.length?this.state.errors:""),r.a.createElement("div",{id:"inputWrapper"},r.a.createElement("label",{id:"emailLabel",className:"label",htmlFor:"email"},"Email Address:"),r.a.createElement("input",{className:"input",id:"email",name:"email",type:"text",autoComplete:"off",placeholder:"Email Address",value:this.state.email,onChange:this.updateInput}),r.a.createElement("label",{id:"passwordLabel",className:"label",htmlFor:"password"},"Password:"),r.a.createElement("input",{className:"input",id:"password",name:"password",type:"password",autoComplete:"off",placeholder:"Password",value:this.state.password,onChange:this.updateInput})),r.a.createElement("div",{id:"registerLink"},"Don't have an account yet?",r.a.createElement(S.b,{to:"/register"},"Register here")),r.a.createElement("div",{id:"submitButtonWrapper"},r.a.createElement("button",{type:"submit",id:"submitButton"},"Submit"))))}}]),a}(n.Component));a(54);function x(){return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement("div",{id:"logoBanner"},r.a.createElement(S.b,{to:"/home",className:"logo"},"MAGELLAN"),r.a.createElement(S.b,{to:"/login",className:"loginButton"},"Log In")),r.a.createElement(R.d,null,r.a.createElement(R.b,{path:"/recipe/:recipeid",component:v}),r.a.createElement(R.b,{path:"/home",component:j}),r.a.createElement(R.b,{path:"/register",component:k}),r.a.createElement(R.b,{path:"/login",component:C}),r.a.createElement(R.b,{path:"/"},r.a.createElement(R.a,{to:"/home"})))))}a(55);s.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4f4d0498.chunk.js.map